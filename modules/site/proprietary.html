<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="en_US" xml:lang="en_US">
<head>
  <meta http-equiv="content-type" content="text/html; charset=ISO-8859-1"/>
  <title>Java(TM) Execution Time Measurement Library</title>
  <link rel="stylesheet" type="text/css" href="default.css"/>
</head>
<body>
<div class="menu">
  <a href="index.html">Home</a>
  |
  <a href="doc.html"><b>Documentation</b></a>
  |
  <a href="faq.html">FAQ</a>
  |
  <a href="@api@/index.html">JavaDoc</a>
  |
  <a href="files.html"><b>Download</b></a>
  |
  <a href="svn.html">SVN</a>
  |
  <a href="http://sourceforge.net/mail/?group_id=109626">Mailing Lists</a>
  |
  <a href="http://sourceforge.net/projects/jetm/">Sourceforge Project Page</a>
</div>
<div id="content">
<div id="header">Java&trade; Execution Time Measurement Library</div>
<div id="subheader">Runtime performance monitoring made easy</div>
<div id="main">
  <h3>Known proprietary solutions</h3>

  <p>
    Here are two proprietary solutions as seen in code (more or less copied from existing projects).
  </p>

  <h5>Example 1: System.out and System.currentTimeMillis().</h5>

  <div class="code"><pre>long time = System.currentTimeMillis();

<span class="java-quote">//
// some business code
//</span>

System.out.println("Elapsed time" + (System.currentTimeMillis() - time));
</pre>
  </div>

  <h5>Example 2: Logging Framework extension.</h5>

  <div class="code"><pre>
private static Log tlog = LogFactory.getLog(Constants.TIME_LOG_CATEGORY);

<span class="java-keyword">public void</span> someMethod() {
  <span class="java-keyword">long</span> tStart = 0;
  <span class="java-keyword">long</span> tEnd = 0;

  <span class="java-keyword">if</span> (tlog.isDebugEnabled()) {
    tStart = System.currentTimeMillis();
  }

<span class="java-quote">  //
  // some business code
  //</span>

  <span class="java-keyword">if</span> (tlog.isDebugEnabled()) {
    tEnd = System.currentTimeMillis();
    tlog.debug("Executed someMethod() in " + (tEnd - tStart));
  }
}

</pre>
  </div>

  <h4>What are the issues with the examples above?</h4>

  <p>
    The code fragements do measure execution performance. But do they help to locating and understanding
    application performance <i>problems</i>? Probably not, because:
  </p>

  <p>
    <b>1. Gained statistics are hard to analyse</b>
    <br/>
    Would you consider a log entry a good basis to judge over current application performance?
    Especially under high load, with hundreds or even thousand measurements per second?
  </p>

  <p>
    <b>2. Collected data don't offer basis of comparsion</b>
    <br/>
    What does it mean to be fast? Is 2 ms too much for a simple execution? Or is it ok? And does it even matter?<br/>
    To answer these questions more than plain execution time is needed. You need to know how often a method
    was called, what the min/max and average execution times were and how those numbers relate the to rest of the
    application.
  </p>

  <p>
    <b>3. Collected data don't offer interval based analysis</b>
    <br/>
    Knowing exactly how long the execution of a code fragment took might be important in certain cases. However
    this doesn't help to understand the <i>load signature</i> of your application. Therefore you need to know how
    your application performed within the last minute, hour or day. And you need to be able to start and stop
    measurements on demand, with direct access to a aggregated statistics afterwards. Do you think log file parsing in
    the
    best way to achieve this?
  </p>

  <p>
    <b>Summary</b>:
    <br/>Applications performance analysis can only be successful and correct, if - and only if - the collected
    data can be easily aggregated and visualized based on a chosen measurement interval.
  </p>

  <p><a href="index.html">Back to home</a></p>
</div>

<div id="menu">
  <a href="index.html">Home</a>
  |
  <a href="doc.html">Documentation</a>
  |
  <a href="faq.html">FAQ</a>
  |
  <a href="@api@/index.html">JavaDoc</a>
  |
  <a href="files.html">Download</a>
  |
  <a href="svn.html">SVN</a>
  |
  <a href="http://sourceforge.net/mail/?group_id=109626">Mailing Lists</a>
  |
  <a href="http://sourceforge.net/projects/jetm/">Sourceforge Project Page</a>
</div>
</div>

</body>
<!-- Last modified  $Date$ -->
</html>